import{r as n,_ as x,j as a,F as y,a as e}from"./app-96305860.js";import{h as N}from"./index.esm-b7d7db8b.js";import{t as o}from"./transition-bb3d647a.js";import{S as p}from"./dialog-7d78047a.js";import{v as k}from"./switch-bcfd8836.js";import"./iconBase-df56ad1c.js";import"./render-f2b9151c.js";import"./description-9d60ba7c.js";const S="/build/assets/settings-77bb5926.svg";function D(i,{funcParse:w}){console.log(i);const[h,u]=n.useState(!1);let l=i.candid,f=[{value:"0_0",display:"En attente"},{value:"1_0",display:"En cours de traitement"},{value:"2_0",display:"Traitée/Acceptée"},{value:"2_1",display:"Traitée/Refusée"}];const{data:s,setData:m,patch:v,processing:r,errors:F}=x({cid:l.id,state:`${l.state}_${l.substate}`,locked:!!l.locked,_token:i.csrf_token});function c(){u(!1)}async function g(){await u(!0)}async function b(t){t.preventDefault(),v(route("candidate.handleSettings"),{preserveScroll:!0,preserveState:!0,onSuccess:d=>{i.funcParse.reloadCandidature(d.props.categories),c()},onError:()=>{c()}})}return a(y,{children:[e("button",{className:"btn icon",onClick:g,style:{width:"95px !important"},children:e("img",{src:S})}),e(o,{appear:!0,show:h,as:n.Fragment,children:a(p,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:()=>{},children:[e("div",{className:"fixed inset-0 bg-black/30 backdrop-blur","aria-hidden":"true"}),a("div",{className:"min-h-screen px-4 text-center",children:[e(o.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(p.Overlay,{className:"fixed inset-0"})}),e("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),e(o.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a("div",{className:"dialog inline-block w-9/12 transition-all p-10  text-white transform bg-[var(--fzbg-4)] shadow-xl rounded-2xl",children:[a("div",{className:"head",children:[a("h2",{className:"titleDialog",children:["Paramètres de la candidature - #",l.id," - ",l.upseudo]}),e("span",{onClick:c,children:e(N,{})})]}),a("form",{onSubmit:b,className:"flex flex-col gap-5",children:[a("div",{className:"flex gap-10",children:[a("div",{className:"form-group w-full",children:[e("label",{children:"Etat de la candidature"}),e("select",{disabled:r,value:s.state,onChange:t=>{m("state",t.target.value)},children:f.map((t,d)=>e("option",{value:t.value,children:t.display},d))})]}),a("div",{className:"form-group w-full items-center",children:[e("label",{children:"Verrouillage de la candidature"}),a("div",{className:"flex gap-5 items-center h-full",children:[e(k,{checked:s.locked,disabled:r,onChange:t=>{m("locked",t)},className:`${s.locked?"":"bg-[var(--fzbg-3)]"} relative inline-flex h-6 w-11 items-center rounded-full`,children:e("span",{className:`${s.locked?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})}),e("span",{children:"Si activé, vous ne pourrez plus commenter la candidature."})]})]})]}),e("button",{className:"btn mt-5",disabled:r,children:"Sauvegarder"})]})]})})]})]})})]})}export{D as default};
