import{b as l,g as s,j as a,a as e}from"./app-683f8c5f.js";import{m as n}from"./motion-6344c4f8.js";import{A as r}from"./index-041d5bad.js";class m extends l.Component{constructor(t){super(t),this.state={isOpen:!1},this.title=t.title,this.value=t.value,this.callSave=t.callSave,this.icon=t.icon,this.link=t.href}async formSubmitPut(){let t=!1;Object.entries(this.props.data).map(i=>{if(i[0]!=="_token"&&i[1]!==""){console.log(i[1]),t=!0;return}}),t&&s.put(this.props.url,this.props.data,{preserveScroll:!0,onSuccess:()=>{s.reload()}})}render(){return a("div",{className:"card",children:[a("div",{className:"head",children:[a("div",{className:"infos",children:[e("img",{src:this.icon,width:"32",height:"32",alt:""}),e("span",{children:this.title}),e("span",{className:"text-[var(--text-inactive)]",children:this.value})]}),e("div",{className:"actions",children:e(n.button,{whileTap:{scale:.97},className:"btn",onClick:()=>{this.link!==void 0?s.get(this.link):(this.state.isOpen&&this.props.method=="put"&&this.formSubmitPut(),this.setState({isOpen:!this.state.isOpen}))},children:this.state.isOpen?"Sauvegarder":"Modifier"})})]}),e(r,{initial:!1,children:this.state.isOpen&&e(n.section,{className:"content",initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.2,ease:[.04,.62,.23,.98]},children:this.props.children},"content")})]})}}export{m as default};
