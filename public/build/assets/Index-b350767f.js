import{r as l,j as t,a as e,n as x,g as C}from"./app-683f8c5f.js";import{L as w}from"./Layout-1c3805c5.js";import{C as A}from"./comment-pen-d2ca9284.js";import"./Toast-6b565a73.js";import{P}from"./Paginate-8bd19bc4.js";import{A as f}from"./Alert-92d363a0.js";import S from"./CardThread-591f9432.js";import{m as _}from"./motion-6344c4f8.js";import"./logo-ec0c8240.js";import"./FzToastContainer-3091199c.js";import"./FzToast-df99b356.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";import"./Dropdown-aa6c8ca6.js";import"./iconBase-cd6a6821.js";import"./index-041d5bad.js";/* empty css            */import"./twitch-172887c2.js";import"./index-4d501b15.js";import"./index.esm-3821b5ab.js";import"./fr-23a179cf.js";import"./Language-0ebcfb91.js";import"./lock-38f14949.js";import"./comments-64ee0b01.js";function Z(a){const c="Forum",h=a.auth.user,g=a.categories;a.csrf_token;const[d,N]=l.useState(1),[b,v]=l.useState(a.isAllowedCreateThread),[s,m]=l.useState(a.threads.data),[T,u]=l.useState(a.threads),p="forum.threads.paginate";async function y(r,n){N(r.id),v(r.isAllowedCreated),m(null),u(null),axios.post(route(p),{parent_id:r.id,page:n,_token:a.csrf_token}).then(i=>{let o=i.data;m(o.data),u(o)}).catch(i=>{console.log(i)})}return t(w,{props:a,title:c,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:c}),children:[e(x,{title:c}),t("div",{className:"forum",children:[t("div",{className:"top",children:[t("div",{className:"justify-start icon_title w-full",children:[e("img",{src:A,alt:""}),e("span",{children:"Rédiger un Article"})]}),t("div",{className:"card",children:[e("button",{className:"btn",disabled:!b,onClick:()=>{C.get(route("forum.thread.create.form",{sc_id:d}))},children:"Nouvelle Discussion"}),t("div",{className:"user",children:[e("span",{children:h.name}),e("img",{src:`https://auth.frazionz.net/skins/face.php?u=${h.id}`,alt:""})]})]})]}),t("div",{className:"body",children:[e("div",{className:"menu",children:g.map((r,n)=>t("div",{className:"category",children:[e("div",{className:"name",children:r.name}),e("div",{className:"subcategory",children:r.subcategories.map((i,o)=>e(_.button,{whileTap:{scale:.87},onClick:()=>{y(i,1)},className:`item ${i.id==d?"active":""}`,children:i.name},o))})]},n))}),t("div",{className:"threads",children:[(s==null?void 0:s.length)<=0&&e(f,{state:"warning",children:"Aucun Threads n'est disponible dans cette catégorie"}),s==null?void 0:s.map((r,n)=>e(S,{thread:r},n)),e(P,{layout:"bottom",labelType:"Threads",routeName:p,pagination:T,parent_id:d,setList:m,setPagination:u})]})]}),g.length<=0&&e(f,{state:"warning",children:"Aucune catégories n'est disponible"})]})]})}export{Z as default};
