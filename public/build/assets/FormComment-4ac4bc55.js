import{W as b,_ as g,j as i,a as o}from"./app-ed6bbe43.js";import{M as x}from"./Editor-74d00b04.js";import"./objectWithoutPropertiesLoose-df62547b.js";import"./index-4d501b15.js";import"./index-067763d7.js";function E({thread:c,setThread:l,afterCommentPublish:p}){const d=b().props,{data:u,setData:e,post:f,processing:r,errors:v}=g({th_id:c.id,comment:"",_token:d.csrf_token});async function h(t){t.preventDefault(),f(route("forum.thread.comment.publish"),{preserveScroll:!0,onSuccess:s=>{var m,n,a;l((m=s.props.flash)==null?void 0:m.dataReset),e("comment",""),p((a=(n=s.props.flash)==null?void 0:n.dataReset)==null?void 0:a.comments)},onError:()=>{e("comment","")}})}return i("form",{onSubmit:h,className:"flex flex-col gap-5",children:[i("div",{className:"form-group",children:[o("label",{children:"Votre commentaire"}),o(x,{hideToolbar:!0,preview:"edit",value:u.comment,height:200,minHeight:200,maxHeight:200,disabled:r,onChange:t=>{e("comment",t)}})]}),o("button",{type:"submit",disabled:r,className:"flex justify-center btn",children:"Envoyer"})]})}export{E as default};
