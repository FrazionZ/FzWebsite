import{r as a,j as i,a as t,n as g,F as p,g as x}from"./app-224f2270.js";import{L as C}from"./Layout-3b0ace19.js";import{A as b}from"./index.modern-9bfc9530.js";import"./logo-5fe7a993.js";import"./dropdownProfile-5594b462.js";import"./iconBase-8021c47a.js";import"./motion-6a6ba2ab.js";import"./Dropdown-633105e6.js";import"./index.esm-d02e88c0.js";import"./commentForum-5f640902.js";import"./keyboard-8a80a38f.js";import"./transition-92d51b8d.js";import"./index-6d1beb2d.js";import"./FzToastContainer-edd11627.js";import"./FzToast-813026fc.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";/* empty css            */import"./twitch-20257377.js";function q(n){let s="Se Connecter";const[l,c]=a.useState(!1),[o,u]=a.useState(0),[d,r]=a.useState();async function h(e){await r(e),e!==void 0&&e.length==6&&m(e)}async function m(e){c(!0),x.post(route("2fa.handleLogin"),{code:e,typeCode:o,_token:n.csrf_token},{onFinish:()=>{c(!1)}})}async function f(){r(null),u(o!==0?0:1)}return i(C,{props:n,title:s,header:t("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Profile"}),children:[t(g,{title:s}),i("div",{className:"flex flex-col items-center gap-[48px]",children:[i("div",{className:"form-group",children:[o==0&&i(p,{children:[t("label",{children:"Code 2FA"}),t(b,{autoFocus:!0,containerClassName:"flex gap-[24px]",disabled:l,length:"6",allowedCharacters:"numeric",inputClassName:"w-[80px] h-[78px]",onChange:h})]}),o==1&&i(p,{children:[t("label",{children:"Code de secours"}),t("input",{type:"text",value:d,onChange:e=>r(e.target.value),name:"code_backup"})]}),t("span",{className:"text-center text-[var(--color-2)] mt-8 text-lg cursor-pointer select-none",autoFocus:!0,onClick:f,children:o==0?"Utiliser un code de secours":"Utiliser le code 2FA"})]}),t("button",{id:"buttonLoginAuth",disabled:l,className:"btn w-fit",onClick:()=>m(d),children:"VÃ©rifier le code"})]})]})}export{q as default};
