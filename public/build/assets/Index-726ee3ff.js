import{r as h,j as l,a as t,b as x,F as v,g as R}from"./app-f2c1dcf3.js";import{A as N}from"./AdminLayout-f27bf745.js";import{m as b}from"./fr-e29cf34f.js";import{D as y}from"./draggable-74004d33.js";import{B as j}from"./Toast-61fae8fb.js";import n from"./RoleCard-9c87ec8c.js";import"./FzToastContainer-06d753c4.js";import"./FzToast-28d850b3.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";import"./logo-5fe7a993.js";import"./index.esm-ed3f49d6.js";import"./iconBase-a5111a0f.js";import"./dropdownProfile-b06ecd60.js";import"./index.esm-a7e631d7.js";import"./motion-717cad6e.js";import"./Language-45cbb11a.js";b.locale("fr");function K(a){let m="Rôles";const[r,d]=h.useState(a.roles),[c,u]=h.useState([]);let p=a.auth.permissions,o=a.authRoleHigh;r.map((e,s)=>{if(e.level>=5||o.position>=e.position){let i=c;i.push(e),u(i),delete r[s],d(r)}});async function f(e,s){let i=r;i=i.swap(s,e),i[s].position=s,i[e].position=e,d(i)}async function g(){R.post(route("admin.roles.swap"),{roles:r,_token:a.csrf_token},{onSuccess:e=>{}})}return l(N,{children:[t(x,{title:m}),l("div",{className:"p-10",children:[t("h1",{className:"text-3xl text-white mb-5",children:m}),l("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:gap-10 dark:bg-gray-900",children:[l("div",{className:"col-span-1",children:[c.map((e,s)=>t(n,{authRoleHigh:o,role:e},s)),p.includes("admin.role.swap")==!0&&t(y,{onPosChange:f,children:r.map((e,s)=>{if(e.level<5)return t(n,{authRoleHigh:o,role:e},s)})}),p.includes("admin.role.swap")==!1&&t(v,{children:r.map((e,s)=>{if(e.level<5)return t(n,{authRoleHigh:o,role:e},s)})}),t("div",{className:"flex justify-end",children:t(j,{onClick:g,children:"Sauvegarder"})})]}),l("div",{className:"col-span-1 flex flex-col justify-center gap-5 border-gray-800 border-l pl-6",children:[t("h2",{className:"text-3xl text-white",children:"Comment fonctionne les rôles ?"}),t("h4",{className:"text-1xl text-white",children:"L'ordre d'affichage des cartes forment la hiérarchie des rôles. Plus un rôle est haut, plus il a de pribilèges. (NB. Si vous avez la permission d'éditer les permissions et les rôles, vous ne pouvez pas éditer vos propres rôles ni les rôles au dessus des votres)"})]})]})]})]})}export{K as default};
