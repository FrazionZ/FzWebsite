import{r as h,j as d,a as o,n as R,g as P}from"./app-71455080.js";import{L as x}from"./Layout-9c6f97a0.js";import{C as _}from"./comment-pen-d2ca9284.js";import{a as w,D as A,d as M,r as U}from"./draftjs-to-html-a071b14e.js";import"./logo-5fe7a993.js";import"./dropdownProfile-b7601297.js";import"./iconBase-e8b875ef.js";import"./motion-67847c99.js";import"./Dropdown-0b37bd09.js";import"./index.esm-f4450869.js";import"./commentForum-5f640902.js";import"./keyboard-49518c1f.js";import"./transition-1d4ad1bd.js";import"./index-d5c08679.js";import"./FzToastContainer-2d515a7f.js";import"./FzToast-68d30c0b.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";/* empty css            */import"./twitch-a961c6b4.js";var I={LINK:"LINK",IMAGE:"IMAGE",EMBED:"embed"},E={BOLD:"BOLD",CODE:"CODE",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",UNDERLINE:"UNDERLINE"},H=w();new H.OrderedSet;var f,T,g;function s(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var G=E.BOLD,B=E.CODE,Y=E.ITALIC,k=E.STRIKETHROUGH,y=E.UNDERLINE,C=/^data-([a-z0-9-]+)$/;f={},s(f,G,{element:"strong"}),s(f,B,{element:"code"}),s(f,Y,{element:"em"}),s(f,k,{element:"del"}),s(f,y,{element:"u"});var v=(T={},s(T,I.LINK,{url:"href",href:"href",rel:"rel",target:"target",title:"title",className:"class"}),s(T,I.IMAGE,{src:"src",height:"height",width:"width",alt:"alt",className:"class"}),T);g={},s(g,I.LINK,function(t,r){for(var a=v.hasOwnProperty(t)?v[t]:{},c=r.getData(),n={},i=0,l=Object.keys(c);i<l.length;i++){var e=l[i],m=c[e];if(a.hasOwnProperty(e)){var p=a[e];n[p]=m}else C.test(e)&&(n[e]=m)}return n}),s(g,I.IMAGE,function(t,r){for(var a=v.hasOwnProperty(t)?v[t]:{},c=r.getData(),n={},i=0,l=Object.keys(c);i<l.length;i++){var e=l[i],m=c[e];if(a.hasOwnProperty(e)){var p=a[e];n[p]=m}else C.test(e)&&(n[e]=m)}return n});function ct(t){const r="Forum",[a,c]=h.useState(""),[n,i]=h.useState(A.EditorState.createEmpty()),l=M(A.convertToRaw(n.getCurrentContent())),[e,m]=h.useState(l),[p,L]=h.useState(t.sc.id),[O,F]=h.useState(t.csrf_token),[N,D]=h.useState(!1);async function S(u){u.preventDefault(),D(!0),P.post(route("forum.thread.create.handle"),{title:a,content:n,acontent:e,sc_id:p,_token:O},{onError:()=>{D(!1)}})}const b=u=>{i(u),m(l)};return d(x,{props:t,title:r,header:o("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:r}),children:[o(R,{title:r}),d("div",{className:"justify-start icon_title w-full",children:[o("img",{src:_,alt:""}),o("span",{children:"Création d'un Thread"})]}),d("form",{onSubmit:S,className:"flex flex-col gap-5 mt-8",children:[d("div",{className:"grid grid-cols-1 2xl:grid-cols-2 gap-8",children:[d("div",{className:"form-group",children:[o("label",{children:"Titre"}),o("input",{type:"text",disabled:N,value:a,onChange:u=>{c(u.target.value)}})]}),d("div",{className:"form-group",children:[o("label",{children:"Catégorie"}),o("input",{type:"text",value:t.fc.name+" -> "+t.sc.name,disabled:!0,onChange:u=>{L(u.target.value)}})]})]}),d("div",{className:"form-group",children:[o("label",{children:"Contenue"}),o(U.Editor,{editorState:n,onEditorStateChange:b,toolbar:{options:["inline","fontSize","fontFamily","textAlign","colorPicker","link","remove","history"],inline:{inDropdown:!1,options:["bold","italic","underline"]}}})]}),o("button",{disabled:N,type:"submit",className:"btn",children:"Poster"})]})]})}export{ct as default};
