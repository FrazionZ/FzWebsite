import{r as s,R,j as w,a as c,n as I,g as K}from"./app-c3c193b5.js";import{L as V}from"./Layout-ef76c8db.js";import"./transition-272a176f.js";import"./use-owner-017716c9.js";var z=["alpha","numeric","alphanumeric"],Z={alpha:{type:"text",inputMode:"text",pattern:"[a-zA-Z]{1}"},alphanumeric:{type:"text",inputMode:"text",pattern:"[a-zA-Z0-9]{1}"},numeric:{type:"tel",inputMode:"numeric",pattern:"[0-9]{1}",min:"0",max:"9"}},B=s.forwardRef(function(n,d){var i=n.allowedCharacters,f=i===void 0?"alphanumeric":i,h=n.ariaLabel,p=n.autoFocus,C=p===void 0?!0:p,m=n.containerClassName,u=n.disabled,S=n.inputClassName,y=n.isPassword,D=y===void 0?!1:y,N=n.length,b=N===void 0?6:N,L=n.placeholder,E=n.onChange;if(isNaN(b)||b<1)throw new Error("Length should be a number and greater than 0");if(!z.some(function(o){return o===f}))throw new Error("Invalid value for allowedCharacters. Use alpha, numeric, or alphanumeric");var t=s.useRef([]),v=Z[f];s.useImperativeHandle(d,function(){return{focus:function(){t.current&&t.current[0].focus()},clear:function(){if(t.current){for(var e=0;e<t.current.length;e++)t.current[e].value="";t.current[0].focus()}g()}}}),s.useEffect(function(){C&&t.current[0].focus()},[]);for(var g=function(){var e=t.current.map(function(l){return l.value}).join("");E&&E(e)},P=function(e){var l=e.target,a=l.value,r=l.nextElementSibling;a.length>1?(e.target.value=a.charAt(0),r!==null&&r.focus()):a.match(v.pattern)?r!==null&&r.focus():e.target.value="",g()},A=function(e){var l=e.key,a=e.target;if(l==="Backspace"){if(a.value===""){if(a.previousElementSibling!==null){var r=a.previousElementSibling;r.value="",r.focus(),e.preventDefault()}}else a.value="";g()}},k=function(e){e.target.select()},$=function(e){for(var l=e.clipboardData.getData("Text"),a=0,r=0;r<l.length;r++){var F=l.charAt(r),M=t.current[a].value;F.match(v.pattern)&&(M||(t.current[a].value=F,t.current[a].nextElementSibling!==null&&(t.current[a].nextElementSibling.focus(),a++)))}g(),e.preventDefault()},O=[],j=function(e){O.push(R.createElement("input",Object.assign({key:e,onChange:P,onKeyDown:A,onFocus:k,onPaste:$},v,{type:D?"password":v.type,ref:function(a){t.current[e]=a},maxLength:1,className:S,autoComplete:e===0?"one-time-code":"off","aria-label":h?h+". Character "+(e+1)+".":"Character "+(e+1)+".",disabled:u,placeholder:L})))},x=0;x<b;x++)j(x);return R.createElement("div",{className:m},O)});const H=B;function J(n){let d="Se Connecter";const[i,f]=s.useState(!1),[h,p]=s.useState();async function C(u){await p(u),u!==void 0&&u.length==6&&m(u)}async function m(u){f(!0),K.post(route("2fa.handleLogin"),{code:u})}return w(V,{props:n,title:d,header:c("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Profile"}),children:[c(I,{title:d}),w("div",{className:"flex flex-col items-center gap-[48px]",children:[w("div",{className:"form-group",children:[c("label",{children:"Code"}),c(H,{autoFocus:!0,containerClassName:"flex gap-[24px]",disabled:i,length:"6",allowedCharacters:"numeric",inputClassName:"w-[80px] h-[78px]",onChange:C})]}),c("button",{id:"buttonLoginAuth",disabled:i,className:"btn w-fit",onClick:()=>m(h),children:"VÃ©rifier le code"})]})]})}export{J as default};
