import{r as a,R as d}from"./app-15af5a0b.js";import{l as y,o as h,V as P,y as S,X as g,p as O,P as U}from"./render-f58dc66d.js";import{I as $,F as G,k as j,h as B,s as H,r as K,o as E}from"./description-6d9d6cb5.js";function w(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function Y(t,e){let[r,n]=a.useState(()=>w(t));return y(()=>{n(w(t))},[t.type,t.as]),y(()=>{r||!e.current||e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}function V(t){var e;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let n of r.elements)if(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image"){n.click();return}}}function X(t,e,r){let[n,s]=a.useState(r),o=t!==void 0,l=a.useRef(o),u=a.useRef(!1),i=a.useRef(!1);return o&&!l.current&&!u.current?(u.current=!0,l.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&l.current&&!i.current&&(i.current=!0,l.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:n,h(p=>(o||s(p),e==null?void 0:e(p)))]}let x=a.createContext(null);function L(){let t=a.useContext(x);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,L),e}return t}function Z(){let[t,e]=a.useState([]);return[t.length>0?t.join(" "):void 0,a.useMemo(()=>function(r){let n=h(o=>(e(l=>[...l,o]),()=>e(l=>{let u=l.slice(),i=u.indexOf(o);return i!==-1&&u.splice(i,1),u}))),s=a.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return d.createElement(x.Provider,{value:s},r.children)},[e])]}let q="label",z=P(function(t,e){let r=$(),{id:n=`headlessui-label-${r}`,passive:s=!1,...o}=t,l=L(),u=S(e);y(()=>l.register(n),[n,l.register]);let i={ref:u,...l.props,id:n};return s&&("onClick"in i&&delete i.onClick,"onClick"in o&&delete o.onClick),g({ourProps:i,theirProps:o,slot:l.slot||{},defaultTag:q,name:l.name||"Label"})}),k=a.createContext(null);k.displayName="GroupContext";let J=a.Fragment;function Q(t){let[e,r]=a.useState(null),[n,s]=Z(),[o,l]=j(),u=a.useMemo(()=>({switch:e,setSwitch:r,labelledby:n,describedby:o}),[e,r,n,o]),i={},p=t;return d.createElement(l,{name:"Switch.Description"},d.createElement(s,{name:"Switch.Label",props:{onClick(){!e||(e.click(),e.focus({preventScroll:!0}))}}},d.createElement(k.Provider,{value:u},g({ourProps:i,theirProps:p,defaultTag:J,name:"Switch.Group"}))))}let W="button",_=P(function(t,e){let r=$(),{id:n=`headlessui-switch-${r}`,checked:s,defaultChecked:o=!1,onChange:l,name:u,value:i,...p}=t,f=a.useContext(k),b=a.useRef(null),D=S(b,e,f===null?null:f.setSwitch),[m,v]=X(s,l,o),T=h(()=>v==null?void 0:v(!m)),N=h(c=>{if(K(c.currentTarget))return c.preventDefault();c.preventDefault(),T()}),R=h(c=>{c.key===E.Space?(c.preventDefault(),T()):c.key===E.Enter&&V(c.currentTarget)}),M=h(c=>c.preventDefault()),F=a.useMemo(()=>({checked:m}),[m]),A={id:n,ref:D,role:"switch",type:Y(t,b),tabIndex:0,"aria-checked":m,"aria-labelledby":f==null?void 0:f.labelledby,"aria-describedby":f==null?void 0:f.describedby,onClick:N,onKeyUp:R,onKeyPress:M},I=O();return a.useEffect(()=>{var c;let C=(c=b.current)==null?void 0:c.closest("form");!C||o!==void 0&&I.addEventListener(C,"reset",()=>{v(o)})},[b,v]),d.createElement(d.Fragment,null,u!=null&&m&&d.createElement(B,{features:H.Hidden,...U({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:m,name:u,value:i})}),g({ourProps:A,theirProps:p,slot:F,defaultTag:W,name:"Switch"}))}),ne=Object.assign(_,{Group:Q,Label:z,Description:G});export{ne as P};
