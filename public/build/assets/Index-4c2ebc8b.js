import{r as h,j as r,a as l,n as x,F as v,g as R}from"./app-683f8c5f.js";import{A as N}from"./AdminLayout-cd63faff.js";import{m as b}from"./fr-23a179cf.js";import{D as y}from"./draggable-1f7c76f8.js";import{B as j}from"./Toast-6b565a73.js";import n from"./RoleCard-95cf8d0d.js";import"./FzToastContainer-3091199c.js";import"./FzToast-df99b356.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";import"./logo-ec0c8240.js";import"./index.esm-3821b5ab.js";import"./iconBase-cd6a6821.js";import"./index.esm-2caab87b.js";import"./motion-6344c4f8.js";import"./Language-0ebcfb91.js";b.locale("fr");function J(a){let m="Rôles";const[i,d]=h.useState(a.roles),[c,u]=h.useState([]);let p=a.auth.permissions,o=a.authRoleHigh;i.map((e,s)=>{if(e.level>=5||o.position>=e.position){let t=c;t.push(e),u(t),delete i[s],d(i)}});async function g(e,s){console.log(e,s);let t=i;t=t.swap(s,e),t[s].position=s,t[e].position=e,d(t)}async function f(){R.post(route("admin.roles.swap"),{roles:i,_token:a.csrf_token},{onSuccess:e=>{console.log(e)}})}return r(N,{children:[l(x,{title:m}),r("div",{className:"p-10",children:[l("h1",{className:"text-3xl text-white mb-5",children:m}),r("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:gap-10 dark:bg-gray-900",children:[r("div",{className:"col-span-1",children:[c.map((e,s)=>l(n,{authRoleHigh:o,role:e},s)),p.includes("admin.role.swap")==!0&&l(y,{onPosChange:g,children:i.map((e,s)=>{if(e.level<5)return l(n,{authRoleHigh:o,role:e},s)})}),p.includes("admin.role.swap")==!1&&l(v,{children:i.map((e,s)=>{if(e.level<5)return l(n,{authRoleHigh:o,role:e},s)})}),l("div",{className:"flex justify-end",children:l(j,{onClick:f,children:"Sauvegarder"})})]}),r("div",{className:"col-span-1 flex flex-col justify-center gap-5 border-gray-800 border-l pl-6",children:[l("h2",{className:"text-3xl text-white",children:"Comment fonctionne les rôles ?"}),l("h4",{className:"text-1xl text-white",children:"L'ordre d'affichage des cartes forment la hiérarchie des rôles. Plus un rôle est haut, plus il a de pribilèges. (NB. Si vous avez la permission d'éditer les permissions et les rôles, vous ne pouvez pas éditer vos propres rôles ni les rôles au dessus des votres)"})]})]})]})]})}export{J as default};
