import{r as u,b as L,j as w,a as c,n as I,g as K}from"./app-84fe5459.js";import{L as V}from"./Layout-c3d05783.js";import"./logo-ec0c8240.js";import"./FzToastContainer-ee141bbb.js";import"./FzToast-265806d1.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";import"./motion-1492670b.js";import"./iconBase-6fc8cab4.js";import"./Dropdown-3db8b677.js";import"./index-18bf1751.js";/* empty css            */import"./twitch-7e47c42a.js";var z=["alpha","numeric","alphanumeric"],Z={alpha:{type:"text",inputMode:"text",pattern:"[a-zA-Z]{1}"},alphanumeric:{type:"text",inputMode:"text",pattern:"[a-zA-Z0-9]{1}"},numeric:{type:"tel",inputMode:"numeric",pattern:"[0-9]{1}",min:"0",max:"9"}},B=u.forwardRef(function(t,d){var s=t.allowedCharacters,f=s===void 0?"alphanumeric":s,p=t.ariaLabel,h=t.autoFocus,C=h===void 0?!0:h,m=t.containerClassName,i=t.disabled,S=t.inputClassName,y=t.isPassword,k=y===void 0?!1:y,N=t.length,b=N===void 0?6:N,D=t.placeholder,E=t.onChange;if(isNaN(b)||b<1)throw new Error("Length should be a number and greater than 0");if(!z.some(function(o){return o===f}))throw new Error("Invalid value for allowedCharacters. Use alpha, numeric, or alphanumeric");var n=u.useRef([]),v=Z[f];u.useImperativeHandle(d,function(){return{focus:function(){n.current&&n.current[0].focus()},clear:function(){if(n.current){for(var e=0;e<n.current.length;e++)n.current[e].value="";n.current[0].focus()}g()}}}),u.useEffect(function(){C&&n.current[0].focus()},[]);for(var g=function(){var e=n.current.map(function(l){return l.value}).join("");E&&E(e)},P=function(e){var l=e.target,a=l.value,r=l.nextElementSibling;a.length>1?(e.target.value=a.charAt(0),r!==null&&r.focus()):a.match(v.pattern)?r!==null&&r.focus():e.target.value="",g()},A=function(e){var l=e.key,a=e.target;if(l==="Backspace"){if(a.value===""){if(a.previousElementSibling!==null){var r=a.previousElementSibling;r.value="",r.focus(),e.preventDefault()}}else a.value="";g()}},R=function(e){e.target.select()},$=function(e){for(var l=e.clipboardData.getData("Text"),a=0,r=0;r<l.length;r++){var F=l.charAt(r),M=n.current[a].value;F.match(v.pattern)&&(M||(n.current[a].value=F,n.current[a].nextElementSibling!==null&&(n.current[a].nextElementSibling.focus(),a++)))}g(),e.preventDefault()},O=[],j=function(e){O.push(L.createElement("input",Object.assign({key:e,onChange:P,onKeyDown:A,onFocus:R,onPaste:$},v,{type:k?"password":v.type,ref:function(a){n.current[e]=a},maxLength:1,className:S,autoComplete:e===0?"one-time-code":"off","aria-label":p?p+". Character "+(e+1)+".":"Character "+(e+1)+".",disabled:i,placeholder:D})))},x=0;x<b;x++)j(x);return L.createElement("div",{className:m},O)});const H=B;function ne(t){let d="Se Connecter";const[s,f]=u.useState(!1),[p,h]=u.useState();async function C(i){await h(i),i!==void 0&&i.length==6&&m(i)}async function m(i){f(!0),K.post(route("2fa.handleLogin"),{code:i,_token:t.csrf_token})}return w(V,{props:t,title:d,header:c("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Profile"}),children:[c(I,{title:d}),w("div",{className:"flex flex-col items-center gap-[48px]",children:[w("div",{className:"form-group",children:[c("label",{children:"Code"}),c(H,{autoFocus:!0,containerClassName:"flex gap-[24px]",disabled:s,length:"6",allowedCharacters:"numeric",inputClassName:"w-[80px] h-[78px]",onChange:C})]}),c("button",{id:"buttonLoginAuth",disabled:s,className:"btn w-fit",onClick:()=>m(p),children:"VÃ©rifier le code"})]})]})}export{ne as default};
