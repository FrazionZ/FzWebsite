import{r as a,R as d}from"./app-8fbe077e.js";import{o as h,V as E,y as P,l as I,X as g,a as O,P as U}from"./transition-54bdab1d.js";import{I as $,r as A,o as C}from"./use-owner-8a709d1d.js";import{F as G,k as j,h as K,s as Y}from"./description-498f0125.js";import{s as B}from"./use-resolve-button-type-8516e810.js";function H(n){var e;let o=(e=n==null?void 0:n.form)!=null?e:n.closest("form");if(o){for(let t of o.elements)if(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image"){t.click();return}}}function V(n,e,o){let[t,s]=a.useState(o),r=n!==void 0,l=a.useRef(r),i=a.useRef(!1),u=a.useRef(!1);return r&&!l.current&&!i.current?(i.current=!0,l.current=r,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!r&&l.current&&!u.current&&(u.current=!0,l.current=r,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[r?n:t,h(p=>(r||s(p),e==null?void 0:e(p)))]}let w=a.createContext(null);function S(){let n=a.useContext(w);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,S),e}return n}function X(){let[n,e]=a.useState([]);return[n.length>0?n.join(" "):void 0,a.useMemo(()=>function(o){let t=h(r=>(e(l=>[...l,r]),()=>e(l=>{let i=l.slice(),u=i.indexOf(r);return u!==-1&&i.splice(u,1),i}))),s=a.useMemo(()=>({register:t,slot:o.slot,name:o.name,props:o.props}),[t,o.slot,o.name,o.props]);return d.createElement(w.Provider,{value:s},o.children)},[e])]}let Z="label",q=E(function(n,e){let o=$(),{id:t=`headlessui-label-${o}`,passive:s=!1,...r}=n,l=S(),i=P(e);I(()=>l.register(t),[t,l.register]);let u={ref:i,...l.props,id:t};return s&&("onClick"in u&&delete u.onClick,"onClick"in r&&delete r.onClick),g({ourProps:u,theirProps:r,slot:l.slot||{},defaultTag:Z,name:l.name||"Label"})}),y=a.createContext(null);y.displayName="GroupContext";let z=a.Fragment;function J(n){let[e,o]=a.useState(null),[t,s]=X(),[r,l]=j(),i=a.useMemo(()=>({switch:e,setSwitch:o,labelledby:t,describedby:r}),[e,o,t,r]),u={},p=n;return d.createElement(l,{name:"Switch.Description"},d.createElement(s,{name:"Switch.Label",props:{onClick(){!e||(e.click(),e.focus({preventScroll:!0}))}}},d.createElement(y.Provider,{value:i},g({ourProps:u,theirProps:p,defaultTag:z,name:"Switch.Group"}))))}let Q="button",W=E(function(n,e){let o=$(),{id:t=`headlessui-switch-${o}`,checked:s,defaultChecked:r=!1,onChange:l,name:i,value:u,...p}=n,m=a.useContext(y),b=a.useRef(null),x=P(b,e,m===null?null:m.setSwitch),[f,v]=V(s,l,r),k=h(()=>v==null?void 0:v(!f)),D=h(c=>{if(A(c.currentTarget))return c.preventDefault();c.preventDefault(),k()}),N=h(c=>{c.key===C.Space?(c.preventDefault(),k()):c.key===C.Enter&&H(c.currentTarget)}),R=h(c=>c.preventDefault()),L=a.useMemo(()=>({checked:f}),[f]),F={id:t,ref:x,role:"switch",type:B(n,b),tabIndex:0,"aria-checked":f,"aria-labelledby":m==null?void 0:m.labelledby,"aria-describedby":m==null?void 0:m.describedby,onClick:D,onKeyUp:N,onKeyPress:R},M=O();return a.useEffect(()=>{var c;let T=(c=b.current)==null?void 0:c.closest("form");!T||r!==void 0&&M.addEventListener(T,"reset",()=>{v(r)})},[b,v]),d.createElement(d.Fragment,null,i!=null&&f&&d.createElement(K,{features:Y.Hidden,...U({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:f,name:i,value:u})}),g({ourProps:F,theirProps:p,slot:L,defaultTag:Q,name:"Switch"}))}),oe=Object.assign(W,{Group:J,Label:q,Description:G});export{oe as P};
