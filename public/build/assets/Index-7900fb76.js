import{r as h,j as r,a as t,n as x,F as v,g as R}from"./app-ed6bbe43.js";import{A as N}from"./AdminLayout-6171bf00.js";import{m as b}from"./fr-16f13925.js";import{D as y}from"./draggable-842059ee.js";import{B as j}from"./Toast-ab3a646f.js";import n from"./RoleCard-efc97f64.js";import"./FzToastContainer-1ca901e2.js";import"./iconBase-be5cbc73.js";import"./FzToast-29989389.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";import"./logo-ec0c8240.js";import"./index.esm-5a7be7c6.js";import"./index.esm-89071630.js";import"./motion-beffb892.js";import"./Language-45cbb11a.js";b.locale("fr");function J(a){let m="Rôles";const[l,d]=h.useState(a.roles),[c,u]=h.useState([]);let p=a.auth.permissions,o=a.authRoleHigh;l.map((e,s)=>{if(e.level>=5||o.position>=e.position){let i=c;i.push(e),u(i),delete l[s],d(l)}});async function f(e,s){let i=l;i=i.swap(s,e),i[s].position=s,i[e].position=e,d(i)}async function g(){R.post(route("admin.roles.swap"),{roles:l,_token:a.csrf_token},{onSuccess:e=>{}})}return r(N,{children:[t(x,{title:m}),r("div",{className:"p-10",children:[t("h1",{className:"text-3xl text-white mb-5",children:m}),r("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:gap-10 dark:bg-gray-900",children:[r("div",{className:"col-span-1",children:[c.map((e,s)=>t(n,{authRoleHigh:o,role:e},s)),p.includes("admin.role.swap")==!0&&t(y,{onPosChange:f,children:l.map((e,s)=>{if(e.level<5)return t(n,{authRoleHigh:o,role:e},s)})}),p.includes("admin.role.swap")==!1&&t(v,{children:l.map((e,s)=>{if(e.level<5)return t(n,{authRoleHigh:o,role:e},s)})}),t("div",{className:"flex justify-end",children:t(j,{onClick:g,children:"Sauvegarder"})})]}),r("div",{className:"col-span-1 flex flex-col justify-center gap-5 border-gray-800 border-l pl-6",children:[t("h2",{className:"text-3xl text-white",children:"Comment fonctionne les rôles ?"}),t("h4",{className:"text-1xl text-white",children:"L'ordre d'affichage des cartes forment la hiérarchie des rôles. Plus un rôle est haut, plus il a de pribilèges. (NB. Si vous avez la permission d'éditer les permissions et les rôles, vous ne pouvez pas éditer vos propres rôles ni les rôles au dessus des votres)"})]})]})]})]})}export{J as default};
