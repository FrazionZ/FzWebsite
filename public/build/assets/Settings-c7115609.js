import{j as s,a as e,W as k,r as d,F as N,d as w,g as x}from"./app-84fe5459.js";import{A as m}from"./Alert-5317b47f.js";import H from"./ValueCard-7c6aab96.js";import M from"./FormPassword-8a056b6e.js";import A from"./FormEmail-24a3caaf.js";import{L as b}from"./Language-0ebcfb91.js";import{W as F,A as _,U as y}from"./apple-0a793a20.js";import{m as p}from"./fr-c2001f97.js";import"./index-4d501b15.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";import"./index.esm-fcd5d56a.js";import"./iconBase-6fc8cab4.js";import"./motion-1492670b.js";import"./index-18bf1751.js";import"./lock-38f14949.js";const P="/build/assets/fingerprint-cb583743.svg";function S(){return s("svg",{width:"128",height:"128",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("g",{clipPath:"url(#clip0_2243_5335)",children:e("path",{d:"M112.333 21.3333H95.8C93.2483 8.92575 82.3338 0.016 69.6665 0H58.9997C46.3325 0.016 35.418 8.92575 32.8665 21.3333H16.3333C13.3878 21.3333 11 23.721 11 26.6665C11 29.612 13.3878 32 16.3333 32H21.6665V101.333C21.6842 116.054 33.613 127.982 48.3333 128H80.3333C95.0535 127.982 106.982 116.054 107 101.333V32H112.333C115.279 32 117.667 29.6122 117.667 26.6667C117.667 23.7213 115.279 21.3333 112.333 21.3333ZM59 90.6667C59 93.6123 56.6122 96 53.6667 96C50.721 96 48.3333 93.6123 48.3333 90.6667V58.6668C48.3333 55.7213 50.721 53.3335 53.6665 53.3335C56.612 53.3335 58.9997 55.7213 58.9997 58.6668V90.6667H59ZM80.3333 90.6667C80.3333 93.6123 77.9455 96 75 96C72.0545 96 69.6668 93.6123 69.6668 90.6667V58.6668C69.6668 55.7213 72.0545 53.3335 75 53.3335C77.9455 53.3335 80.3333 55.7213 80.3333 58.6668V90.6667ZM43.912 21.3333C46.1805 14.9455 52.2215 10.6748 59 10.6665H69.6668C76.4453 10.6748 82.4863 14.9455 84.7548 21.3333H43.912Z",fill:"#311903"})}),e("defs",{children:e("clipPath",{id:"clip0_2243_5335",children:e("rect",{width:"128",height:"128",fill:"#311903"})})})]})}p.locale("fr");function G(){const i=k().props;i.auth.user;let t=i.auth.TwoFA,u=i.csrf_token,f=new b(i.language);const[l,h]=d.useState(i.tokensUser),[g,o]=d.useState(!1),c=[{key:"Windows",icon:F},{key:"MacOS",icon:_},{key:"Ubuntu",icon:y}];async function v(r){o(!0),x.post(route("profile.token.revoke"),{token_id:r,_token:u},{preserveScroll:!0,onSuccess:a=>{h(a.props.tokensUser),o(!1)},onError:()=>{o(!1)}})}return e(N,{children:s("div",{className:"settings",children:[t==!1&&e(m,{state:"infos",children:s("span",{children:["Tu peux activer la double authentification en allant ",e(w,{href:route("2fa.register"),children:"ici"})]})}),s("div",{className:"data_personnal",children:[e("span",{className:"title",children:"Informations Personnelles"}),e(A,{}),e(M,{}),e(H,{title:"Double Authentification",icon:P,href:route(t?"2fa.index":"2fa.register"),value:t?"Activée":"Désactivée"})]}),s("div",{className:"flex flex-col gap-[16px]",children:[e("span",{className:"title",children:"Sessions Actives"}),l.length<=0&&e(m,{state:"infos",children:"Aucune connexion n'est active sur votre compte FrazionZ."}),l.map((r,a)=>{let n=c.find(C=>C.key==r.os);return n==null&&(n=c[0]),s("div",{className:"card token",children:[s("div",{className:"infos",children:[s("div",{className:"column",children:[e("div",{className:"icon",children:e("img",{src:n.icon,alt:""})}),s("div",{className:"data",children:[e("span",{className:"os",children:r.os}),s("span",{className:"locate",children:[r.geo.city,", ",r.geo.region,", ",r.geo.country]})]})]}),s("div",{className:"column",children:["Mis à jour le ",f.replaceMonth(p(r.updated_at).local("fr").tz("Europe/Paris").format("D MMMM YYYY à HH:mm"))]})]}),e("div",{className:"actions",children:e("button",{className:"btn icon",disabled:g,onClick:()=>{v(r.id)},children:e(S,{})})})]},a)})]})]})})}export{G as default};
