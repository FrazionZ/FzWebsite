import{j as t,F as o,a as e,r as l,n as x,g as C}from"./app-9fa8e355.js";import{F as b}from"./FzToastContainer-4df35902.js";/* empty css            */import{L as h}from"./logo-5fe7a993.js";import{A as F}from"./index.modern-58ea7847.js";import"./FzToast-85d0d563.js";import"./bubble_warning-9cee2399.js";import"./bubble_infos-3d3cb710.js";function y({props:s,children:i}){return t(o,{children:[t("div",{className:"md:hidden flex flex-col justify-center h-screen items-center text-center mx-8 gap-5",children:[e("img",{src:h,alt:"",width:120}),t("h2",{className:"text-md",children:["La taille de cet écran n'est pour le moment pas adapté sur notre site, revenez ici plus tard ;) ",e("br",{}),e("p",{className:"mt-2",children:"- Signé, Bob"})]})]}),t("div",{id:"app",className:"hidden md:flex md:justify-center md:items-center md:h-screen ",children:[e("img",{src:h,alt:"logo",width:120,height:120}),i,e(b,{})]})]})}function T(s){let i="Authentification";const[c,d]=l.useState(!1),[n,p]=l.useState(0),[m,r]=l.useState();async function f(a){await r(a),a!==void 0&&a.length==6&&u(a)}async function u(a){d(!0),C.post(route("2fa.handleLogin"),{code:a,typeCode:n,_token:s.csrf_token},{onFinish:()=>{d(!1)}})}async function g(){r(null),p(n!==0?0:1)}return t(y,{props:s,title:i,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Profile"}),children:[e(x,{title:i}),t("div",{className:"flex flex-col items-center gap-[48px]",children:[t("div",{className:"form-group",children:[n==0&&t(o,{children:[e("label",{children:"Code 2FA"}),e(F,{autoFocus:!0,containerClassName:"flex gap-[24px]",disabled:c,length:"6",allowedCharacters:"numeric",inputClassName:"w-[80px] h-[78px]",onChange:f})]}),n==1&&t(o,{children:[e("label",{children:"Code de secours"}),e("input",{type:"text",value:m,onChange:a=>r(a.target.value),name:"code_backup"})]}),e("span",{className:"text-center text-[var(--color-2)] mt-8 text-lg cursor-pointer select-none",autoFocus:!0,onClick:g,children:n==0?"Utiliser un code de secours":"Utiliser le code 2FA"})]}),e("button",{id:"buttonLoginAuth",disabled:c,className:"btn w-fit",onClick:()=>u(m),children:"Vérifier le code"})]})]})}export{T as default};
